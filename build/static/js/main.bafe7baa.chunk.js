(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{197:function(e,t,a){e.exports=a(391)},209:function(e,t,a){},210:function(e,t,a){},391:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(7),l=a.n(s),o=a(35),i=a(22),c=a(176),u=a(177),m=a.n(u),d=Object(o.c)({loggedInUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS":return t.payload;case"LOGOUT_SUCCESS":return null}return e},loginSuccessRedirectUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_SUCCESS_REDIRECT_URL":return t.payload}return e}}),p=(a(209),a(16)),h=a(17),f=a(19),g=a(18),E=a(20),b=(a(210),a(406)),y=a(394),v=a(407),w=function(e){return console.log("Logged In User: ",e.first),console.log("Login Success User Object: ",e),{type:"LOGIN_SUCCESS",payload:e}},S=function(){return console.log("Logging User Out: "),{type:"LOGOUT_SUCCESS",payload:null}},O=function(e){return console.log("Storing url: ",e),{type:"LOGIN_SUCCESS_REDIRECT_URL",payload:e}},j=a(28),k=a.n(j),U=a(396),C=a(404),L=a(403),x=a(136),I=a(397),P=a(398),R=a(11),z=a(186),N=a(74),A=a(44),V=a(400),T=a(402),D=a(31),W=a(393),M=a(178),_=a.n(M),F=a(179),Y=a.n(F),Z=V.a.Item,B={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:14}}},G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).validatePassword=function(){var e=a.state.password;if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)){if(!/^(?=.{8,})/.test(e))return C.a.error("Your password should be atleast 8 characters long",5),!1;if(!/^(?=.*[a-z])/.test(e))return C.a.error("Your password should contain atleast one Lower case character",5),!1;if(!/^(?=.*[0-9])/.test(e))return C.a.error("Your password should contain atleast one Number",5),!1;if(!/^(?=.*[A-Z])/.test(e))return C.a.error("Your password should contain atleast one Upper case character",5),!1;if(!/^(?=.*[!@#\$%\^&\*])/.test(e))return C.a.error("Your password should contain atleast one Special character",5),!1}return!0},a.validateEmail=function(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(C.a.error("Please provide email address to continue!",5),!1)},a.validateData=function(){return 0===a.state.userName.length?(C.a.error("Please provide User Name to continue!",5),!1):0===a.state.password.length?(C.a.error("Invalid password, please set Password value!",5),!1):0===a.state.confirmPassword.length?(C.a.error("Invalid password, please set ConfirmPassword value!",5),!1):0===a.state.firstname.length?(C.a.error("Please provide FirstName to continue!",5),!1):0===a.state.lastname.length?(C.a.error("Please provide lastname to continue!",5),!1):!!a.validateEmail(a.state.email)&&(a.state.password!==a.state.confirmPassword?(a.setState({password:"",confirmPassword:""}),C.a.error("Password and Confirm Password does not match!",5),!1):!!a.validatePassword())},a.createUser=function(){if(a.validateData()){a.setState({iconLoading:!0});var e={username:a.state.userName,password:a.state.password,firstname:a.state.firstname,lastname:a.state.lastname,email:a.state.email,role:"ROLE_USER"};k.a.post("http://devapi31.us-east-1.elasticbeanstalk.com/public/register",e,{timeout:45e3}).then(function(e){a.setState({iconLoading:!1}),L.a.success({title:"Registration successful.",content:e.data.message}),a.props.closeRegisterUserView()}).catch(function(e){a.setState({iconLoading:!1})})}},a.state={iconLoading:!1,userName:"",password:"",confirmPassword:"",firstname:"",lastname:"",email:""},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="Create Account"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(V.a,{style:{backgroundColor:"white"}},r.a.createElement("label",{style:{fontSize:15,fontWeight:"bold"}},"Create New Account"),r.a.createElement("br",null),r.a.createElement(z.a,{spinning:this.state.iconLoading}),r.a.createElement("br",null),r.a.createElement(Z,Object.assign({},B,{label:"Username:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Username",value:this.state.userName,onChange:function(t){e.setState({userName:t.target.value})}})),r.a.createElement(Z,Object.assign({},B,{label:"Password:"}),r.a.createElement("div",null,r.a.createElement(T.a.Password,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"lock",style:{fontSize:20}}),type:"password",placeholder:" Password",value:this.state.password,onBlur:this.validatePassword,onChange:function(t){e.setState({password:t.target.value})}}))),r.a.createElement(Z,Object.assign({},B,{label:"Confirm Password:"}),r.a.createElement(T.a.Password,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"lock",style:{fontSize:20}}),type:"password",placeholder:" Confirm Password",value:this.state.confirmPassword,onBlur:this.validatePassword,onChange:function(t){e.setState({confirmPassword:t.target.value})}})),r.a.createElement(Z,Object.assign({},B,{label:"First Name:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" First Name",value:this.state.firstname,onChange:function(t){e.setState({firstname:t.target.value})}})),r.a.createElement(Z,Object.assign({},B,{label:"Last Name:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Last Name",value:this.state.lastname,onChange:function(t){e.setState({lastname:t.target.value})}})),r.a.createElement(Z,Object.assign({},B,{label:"Email:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}})),r.a.createElement(Z,null,r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(D.a,{type:"primary",icon:"check-circle-o",loading:this.state.iconLoading,htmlType:"submit",onClick:this.createUser},"Submit"))))))))}}]),t}(n.Component);var q=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(G),H=V.a.Item,$={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}}},J=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(r)))).state={loadingIcon:!1,username:"",password:"",isUserNameValid:!0,isPasswordValid:!0,showForgotPasswordView:!1,showSignUpView:!1},a.validateUserInput=function(){var e=!1,t=!1;return e=""!==a.state.username,t=""!==a.state.password,console.log("user",e),console.log("pass",t),!(!e||!t)||(C.a.error("Please enter a valid username and password!"),!1)},a.handleClick=function(){if(a.validateUserInput()){a.setState({loadingIcon:!0});var e={grant_type:"password",username:a.state.username,password:a.state.password};k.a.request({url:"/oauth/token",method:"post",baseURL:"http://devapi31.us-east-1.elasticbeanstalk.com",auth:{username:"service-account-1",password:"service-account-1-secret",scope:"all"},data:_.a.stringify(e),headers:{"content-type":"application/x-www-form-urlencoded"}}).then(function(e){console.log(e),a.setState({loadingIcon:!1});var t=Y()(e.data.access_token);console.log(t);var n=t.authorities[0],r=[];r=n.indexOf("ROLE_ADMIN")>-1?["activate-user","manage-users","create-user"]:n.indexOf("ROLE_MODERATOR")>-1?["activate-user","manage-users","create-user"]:n.indexOf("ROLE_USER")>-1?["activate-user","manage-users"]:[],localStorage.setItem("AuthToken",e.data.access_token),localStorage.setItem("LoggedInUser",JSON.stringify({id:a.state.username,first:a.state.username,roles:n,authorizedTasks:r,authResponse:e.data})),a.props.loginSuccess({id:a.state.username,first:a.state.username,roles:n,authorizedTasks:r,authResponse:e.data}),a.props.redirectUrl?a.props.history.replace(a.props.redirectUrl):a.props.history.replace("/profile/dashboard")}).catch(function(e){console.log(e),a.setState({loadingIcon:!1})})}},a.closeRegisterUserView=function(){a.setState({showSignUpView:!1})},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){localStorage.getItem("AuthToken")&&(this.props.loginSuccess(JSON.parse(localStorage.getItem("LoggedInUser"))),this.props.redirectUrl?(console.log("Redirect Url:"+this.props.redirectUrl),this.props.history.replace(this.props.redirectUrl)):(console.log("Redirect Url: /profile/dashboard"),this.props.history.replace("/profile/dashboard")))}},{key:"componentDidMount",value:function(){document.title="Login"}},{key:"render",value:function(){var e,t=this;return e=this.state.showSignUpView?r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(L.a,{centered:!0,title:r.a.createElement("span",{style:{fontWeight:"bold"}}," Sign Up "),visible:this.state.showSignUpView,onCancel:function(){t.setState({showSignUpView:!1})},footer:[]},r.a.createElement(q,Object.assign({},this.props,{closeRegisterUserView:this.closeRegisterUserView}))))):null,r.a.createElement("div",null,r.a.createElement("div",{style:{height:"calc(100vh - 64px)",backgroundColor:"#1286a3",paddingTop:"50px"}},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:8},r.a.createElement(V.a,{style:{backgroundColor:"white"}},r.a.createElement("br",null),r.a.createElement("label",{style:{fontSize:15}},r.a.createElement("b",null,"Login")),r.a.createElement("br",null),r.a.createElement(z.a,{spinning:this.state.loadingIcon}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(H,Object.assign({},$,{label:"Username:",validateStatus:this.state.isUserNameValid?"":"error",hasFeedback:!0,help:this.state.isUserNameValid?"":"Please enter a valid username."}),r.a.createElement(T.a,{prefix:r.a.createElement(R.a,{type:"user",style:{fontSize:20}}),placeholder:" Username",value:this.state.username,onChange:function(e){t.setState({username:e.target.value})}})),r.a.createElement(H,Object.assign({},$,{label:"Password:",validateStatus:this.state.isPasswordValid?"":"error",hasFeedback:!0,help:this.state.isPasswordValid?"":"Please enter a valid password."}),r.a.createElement(T.a,{prefix:r.a.createElement(R.a,{type:"lock",style:{fontSize:20}}),type:"password",placeholder:" Password",value:this.state.password,onChange:function(e){t.setState({password:e.target.value})}})),r.a.createElement(H,null,r.a.createElement(D.a,{type:"primary",loading:this.state.loadingIcon,icon:"login",htmlType:"submit",onClick:this.handleClick},"Log In"),r.a.createElement(W.a,{type:"vertical"}),r.a.createElement("a",{style:{color:"#003a8c"},onClick:function(){console.log("inside sign in"),t.setState({showSignUpView:!0})}},"Sign Up")),r.a.createElement(H,null))))),e)}}]),t}(n.Component);var K=Object(i.b)(function(e){return{user:e.loggedInUser,redirectUrl:e.loginSuccessRedirectUrl}},function(e){return Object(o.b)({loginSuccess:w},e)})(J),Q=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentWillMount",value:function(){this.props.user||(localStorage.getItem("AuthToken")?(this.props.loginSuccess(JSON.parse(localStorage.getItem("LoggedInUser"))),this.props.setLoginSuccessRedirectUrl(this.props.location.pathname)):(this.props.setLoginSuccessRedirectUrl(this.props.location.pathname),this.props.history.replace("/login"),C.a.info("Please login to continue.")))}},{key:"render",value:function(){return this.props.user?this.props.children:null}}]),t}(n.Component);var X=Object(i.b)(function(e){return{user:e.loggedInUser}},function(e){return Object(o.b)({loginSuccess:w,setLoginSuccessRedirectUrl:O},e)})(Q),ee=a(401),te=function(e){function t(e){return Object(p.a)(this,t),Object(f.a)(this,Object(g.a)(t).call(this,e))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="404 Resource Not Found"}},{key:"render",value:function(){var e;return e=this.props.user?r.a.createElement(y.a,{to:"/profile/dashboard"},r.a.createElement("span",{style:{fontWeight:"bold"}},"Home")):r.a.createElement(y.a,{to:"/"},r.a.createElement("span",{style:{fontWeight:"bold"}},"Home")),r.a.createElement("div",{style:{minHeight:"calc(100vh - 64px)",backgroundColor:"#1286a3"}},r.a.createElement(N.a,null,r.a.createElement(A.a,{offset:10,span:8},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(ee.a,{title:r.a.createElement("span",null,r.a.createElement("b",null,"Page Not Found"))},r.a.createElement("br",null),r.a.createElement("span",null,"The URL you have requested is not present."),r.a.createElement("br",null),r.a.createElement("span",null," Go to "),e,r.a.createElement("br",null)))))}}]),t}(n.Component);var ae=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(te),ne=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(X,this.props,r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement("label",{style:{fontSize:40,fontWeight:"bold"}},"AWS Elastic Bean Stalk"),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement("label",{style:{fontSize:30,fontWeight:"normal"}},"Welcome to this course on AWS Elastic Bean Stalk - Master class."),r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement("label",{style:{fontSize:20,fontWeight:"normal"}},"We are going to deploy this react and springboot based application to aws elastic bean stalk."),r.a.createElement("br",null)))))}}]),t}(n.Component),re=a(395),se=a(399),le=V.a.Item,oe={labelCol:{xs:{span:24},sm:{span:10}},wrapperCol:{xs:{span:24},sm:{span:14}}},ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).loadUser=function(){a.setState({iconLoading:!0}),k.a.get("http://devapi31.us-east-1.elasticbeanstalk.com/user/"+a.props.selectedRecord.username).then(function(e){a.setState({iconLoading:!1,userName:e.data.username,firstname:e.data.firstname,lastname:e.data.lastname,email:e.data.email})}).catch(function(e){a.setState({iconLoading:!1})})},a.validateEmail=function(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(C.a.error("Please provide email address to continue!",5),!1)},a.validateData=function(){return 0===a.state.firstname.length?(C.a.error("Please provide FirstName to continue!",5),!1):0===a.state.lastname.length?(C.a.error("Please provide lastname to continue!",5),!1):a.validateEmail(a.state.email)},a.updateUser=function(){if(a.validateData()){a.setState({iconLoading:!0});var e={username:a.state.userName,firstname:a.state.firstname,lastname:a.state.lastname,email:a.state.email};k.a.put("http://devapi31.us-east-1.elasticbeanstalk.com/user",e).then(function(e){console.log(e),a.setState({iconLoading:!1}),C.a.success("User updated successfully.",5),a.props.closeEditModel()}).catch(function(e){a.setState({iconLoading:!1})})}},a.state={iconLoading:!1,userName:"",firstname:"",lastname:"",email:""},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="Edit User",this.loadUser()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(V.a,{style:{backgroundColor:"white"}},r.a.createElement("label",{style:{fontSize:15,fontWeight:"bold"}},"Edit User"),r.a.createElement("br",null),r.a.createElement(z.a,{spinning:this.state.iconLoading}),r.a.createElement("br",null),r.a.createElement(le,Object.assign({},oe,{label:"Username:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Username",value:this.state.userName,readOnly:!0})),r.a.createElement(le,Object.assign({},oe,{label:"First Name:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" First Name",value:this.state.firstname,onChange:function(t){e.setState({firstname:t.target.value})}})),r.a.createElement(le,Object.assign({},oe,{label:"Last Name:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Last Name",value:this.state.lastname,onChange:function(t){e.setState({lastname:t.target.value})}})),r.a.createElement(le,Object.assign({},oe,{label:"Email:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}})),r.a.createElement(le,null,r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(D.a,{type:"primary",icon:"check-circle-o",loading:this.state.iconLoading,htmlType:"submit",onClick:this.updateUser},"Submit"))))))))}}]),t}(n.Component);var ce=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(ie),ue=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).setColumns=function(){var e=[{title:"#",key:"#",render:function(e,t,a){return r.a.createElement("span",null,a+1)}},{title:"User Name",dataIndex:"username",key:"username"},{title:"Roles",dataIndex:"role",key:"roles"},{title:"Email",dataIndex:"email",key:"email"},{title:"AppVersion",dataIndex:"appversion",key:"appversion"},{title:"Actions",dataIndex:"action",key:"action",render:function(e,t){return r.a.createElement("span",null,r.a.createElement(D.a,{type:"primary",onClick:a.showDetailsView},"Edit"),r.a.createElement("span",null," "),r.a.createElement(re.a,{title:"Confirm operation?",okText:"Go Ahead",cancelText:"Cancel",onConfirm:function(){a.stateUpdate(t.username)}},r.a.createElement(D.a,{type:"danger"},t.enabled?"Disable":"Enable")),r.a.createElement("span",null," "),r.a.createElement(re.a,{title:"Confirm operation?",okText:"Go Ahead",cancelText:"Cancel",onConfirm:function(){a.deleteUser(t.username)}},r.a.createElement(D.a,{type:"danger"},"Delete")))}}];a.setState({columns:e})},a.setSelectedRow=function(e){console.log(e),a.setState({selectedRecord:e})},a.showDetailsView=function(){a.setState({showEditView:!0})},a.closeEditView=function(){a.setState({showEditView:!1}),a.reloadTabularData()},a.reloadTabularData=function(){a.loadAll()},a.loadAll=function(){a.setState({iconLoading:!0}),k.a.get("http://devapi31.us-east-1.elasticbeanstalk.com/users").then(function(e){a.setState({iconLoading:!1}),a.setState({dataSource:e.data})}).catch(function(e){a.setState({iconLoading:!1})})},a.setMultiSelectedRows=function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t),a.setState({selectedTreesIds:e})},a.stateUpdate=function(e){a.setState({iconLoading:!0}),k.a.get("http://devapi31.us-east-1.elasticbeanstalk.com/status/"+e).then(function(e){console.log(e),a.setState({iconLoading:!1}),C.a.success("User updated successfully!",5),a.reloadTabularData()}).catch(function(e){a.setState({iconLoading:!1})})},a.deleteUser=function(e){a.setState({iconLoading:!0}),k.a.delete("http://devapi31.us-east-1.elasticbeanstalk.com/user/"+e).then(function(e){console.log(e),a.setState({iconLoading:!1}),C.a.success("User deleted successfully!",5),a.reloadTabularData()}).catch(function(e){a.setState({iconLoading:!1})})},a.state={visible:!1,dataSource:[],columns:[],showEditView:!1,showTableView:!0,showReadOnlyView:!1,selectedRecord:null,selectedTreesIds:[]},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="Manage User's",this.setColumns(),this.loadAll()}},{key:"render",value:function(){var e,t,a=this;return e=this.state.showEditView?r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:24},r.a.createElement(L.a,{title:r.a.createElement("span",{style:{fontWeight:"bold"}},this.state.selectedRecord.username),bodyStyle:{width:1200},style:{top:20,display:"flex",marginLeft:100},visible:this.state.showEditView,onCancel:function(){a.setState({showEditView:!1})},footer:[]},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:24},r.a.createElement(ce,Object.assign({},this.props,{closeEditModel:this.closeEditView,selectedRecord:this.state.selectedRecord}))))))):null,t=this.state.showTableView?r.a.createElement("div",null,r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement("label",{style:{fontSize:15,fontWeight:"bold"}},"Manage User's"),r.a.createElement("br",null))),r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:20},r.a.createElement(z.a,{spinning:this.state.iconLoading}),r.a.createElement("br",null),r.a.createElement(se.a,{dataSource:this.state.dataSource,pagination:{defaultPageSize:8},columns:this.state.columns,onRowClick:this.setSelectedRow,size:"middle",rowKey:function(e){return e.guid}})))):null,r.a.createElement(X,this.props,r.a.createElement("div",{style:{minHeight:"calc(100vh - 64px)"}},t,e))}}]),t}(n.Component);var me=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(ue),de=a(84),pe=de.a.Option,he=V.a.Item,fe={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},ge=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).changeRole=function(e){a.setState({role:e})},a.validatePassword=function(){var e=a.state.password;if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)){if(!/^(?=.{8,})/.test(e))return C.a.error("Your Password Should be atleast 8 characters long",5),!1;if(!/^(?=.*[a-z])/.test(e))return C.a.error("Your Password Should contain atleast one Lower case character",5),!1;if(!/^(?=.*[0-9])/.test(e))return C.a.error("Your Password Should contain atleast one Number",5),!1;if(!/^(?=.*[A-Z])/.test(e))return C.a.error("Your Password Should contain atleast one Upper case character",5),!1;if(!/^(?=.*[!@#\$%\^&\*])/.test(e))return C.a.error("Your Password Should contain atleast one Special character",5),!1}return!0},a.validateEmail=function(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(C.a.error("Please provide email address to continue!",5),!1)},a.validateData=function(){return 0===a.state.userName.length?(C.a.error("Please provide UserName to continue!",5),!1):0===a.state.password.length?(C.a.error("Invalid Password, Please set Password value!",5),!1):0===a.state.confirmPassword.length?(C.a.error("Invalid Password, Please set ConfirmPassword value!",5),!1):0===a.state.firstname.length?(C.a.error("Please provide FirstName to continue!",5),!1):0===a.state.lastname.length?(C.a.error("Please provide lastname to continue!",5),!1):!!a.validateEmail(a.state.email)&&(0===a.state.role.length?(C.a.error("Please Select Role to continue!",5),!1):a.state.password!==a.state.confirmPassword?(a.setState({password:"",confirmPassword:""}),C.a.error("Password and Confirm Password does not match!",5),!1):!!a.validatePassword())},a.createUser=function(){if(a.validateData()){a.setState({iconLoading:!0});var e={username:a.state.userName,password:a.state.password,enabled:!0,firstname:a.state.firstname,lastname:a.state.lastname,email:a.state.email,role:a.state.role};k.a.post("http://devapi31.us-east-1.elasticbeanstalk.com/user/",e).then(function(e){console.log(e),a.setState({iconLoading:!1}),C.a.success("User created successfully.",5)}).catch(function(e){a.setState({iconLoading:!1})})}},a.state={iconLoading:!1,userName:"",password:"",confirmPassword:"",firstname:"",lastname:"",email:"",role:""},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="Create User"}},{key:"render",value:function(){var e=this;return r.a.createElement(X,this.props,r.a.createElement("div",{style:{minHeight:"calc(100vh - 64px)"}},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:20},r.a.createElement(V.a,{style:{backgroundColor:"white"}},r.a.createElement("label",{style:{fontSize:15,fontWeight:"bold"}},"Create New User"),r.a.createElement("br",null),r.a.createElement(z.a,{spinning:this.state.iconLoading}),r.a.createElement("br",null),r.a.createElement(he,Object.assign({},fe,{label:"Username:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Username",value:this.state.userName,onChange:function(t){e.setState({userName:t.target.value})}})),r.a.createElement(he,Object.assign({},fe,{label:"Password:"}),r.a.createElement(T.a.Password,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"lock",style:{fontSize:20}}),type:"password",placeholder:" Password",value:this.state.password,onBlur:this.validatePassword,onChange:function(t){e.setState({password:t.target.value})}})),r.a.createElement(he,Object.assign({},fe,{label:"Confirm Password:"}),r.a.createElement(T.a.Password,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"lock",style:{fontSize:20}}),type:"password",placeholder:" Confirm Password",value:this.state.confirmPassword,onBlur:this.validatePassword,onChange:function(t){e.setState({confirmPassword:t.target.value})}})),r.a.createElement(he,Object.assign({},fe,{label:"First Name:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" First Name",value:this.state.firstname,onChange:function(t){e.setState({firstname:t.target.value})}})),r.a.createElement(he,Object.assign({},fe,{label:"Last Name:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Last Name",value:this.state.lastname,onChange:function(t){e.setState({lastname:t.target.value})}})),r.a.createElement(he,Object.assign({},fe,{label:"Email:"}),r.a.createElement(T.a,{style:{fontSize:20},prefix:r.a.createElement(R.a,{type:"edit",style:{fontSize:20}}),placeholder:" Email",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}})),r.a.createElement(he,Object.assign({},fe,{label:"Role:"}),r.a.createElement(de.a,{value:this.state.role,onChange:this.changeRole},r.a.createElement(pe,{value:"ROLE_ADMIN"},"ROLE_ADMIN"),r.a.createElement(pe,{value:"ROLE_USER"},"ROLE_USER"),r.a.createElement(pe,{value:"ROLE_MODERATOR"},"ROLE_MODERATOR"))),r.a.createElement(he,null,r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(D.a,{type:"primary",icon:"check-circle-o",loading:this.state.iconLoading,htmlType:"submit",onClick:this.createUser},"Submit")))))))))}}]),t}(n.Component);var Ee=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(ge),be=V.a.Item,ye={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},ve=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).loadUser=function(){var e=a.props.match.params.id;a.setState({iconLoading:!0}),k.a.get("http://devapi31.us-east-1.elasticbeanstalk.com/user/"+e).then(function(e){console.log(e),a.setState({iconLoading:!1,username:e.data.username,firstname:e.data.firstname,lastname:e.data.lastname,email:e.data.email,role:e.data.role}),e.data.enabled&&(a.setState({disableSubmit:!0}),C.a.error("User already active!",5))}).catch(function(e){a.setState({iconLoading:!1})})},a.activateUser=function(){a.setState({iconLoading:!0});k.a.get("http://devapi31.us-east-1.elasticbeanstalk.com/user/activate/"+a.state.username,{timeout:9e4}).then(function(e){console.log(e),a.setState({iconLoading:!1}),a.setState({disableSubmit:!0}),C.a.success("User activated successfully!",5)}).catch(function(e){a.setState({iconLoading:!1}),a.setState({disableSubmit:!1})})},a.state={iconLoading:!1,username:"",firstname:"",lastname:"",email:"",role:"",disableSubmit:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){document.title="Activate User",this.loadUser()}},{key:"render",value:function(){return r.a.createElement(X,this.props,r.a.createElement("div",{style:{minHeight:"calc(100vh - 64px)"}},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:20},r.a.createElement(V.a,{style:{backgroundColor:"white"}},r.a.createElement("label",{style:{fontSize:15,fontWeight:"bold"}},"Activate User"),r.a.createElement("br",null),r.a.createElement(z.a,{spinning:this.state.iconLoading}),r.a.createElement("br",null),r.a.createElement(be,Object.assign({},ye,{label:"Username:"}),r.a.createElement(T.a,{style:{backgroundColor:"#e8e8e8",fontSize:12},readOnly:!0,placeholder:" Username",value:this.state.username})),r.a.createElement(be,Object.assign({},ye,{label:"First Name:"}),r.a.createElement(T.a,{style:{backgroundColor:"#e8e8e8",fontSize:12},readOnly:!0,placeholder:" First Name",value:this.state.firstname})),r.a.createElement(be,Object.assign({},ye,{label:"Last Name:"}),r.a.createElement(T.a,{style:{backgroundColor:"#e8e8e8",fontSize:12},readOnly:!0,placeholder:" Last Name",value:this.state.lastname})),r.a.createElement(be,Object.assign({},ye,{label:"Email:"}),r.a.createElement(T.a,{style:{backgroundColor:"#e8e8e8",fontSize:12},readOnly:!0,placeholder:" Email",value:this.state.email})),r.a.createElement(be,Object.assign({},ye,{label:"Role:"}),r.a.createElement(T.a,{style:{backgroundColor:"#e8e8e8",fontSize:12},readOnly:!0,placeholder:" Role",value:this.state.role})),r.a.createElement(be,null,r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,null,r.a.createElement(D.a,{type:"primary",icon:"check-circle-o",loading:this.state.iconLoading,htmlType:"submit",disabled:this.state.disableSubmit,onClick:this.activateUser},"Activate")))))))))}}]),t}(n.Component);var we=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(ve),Se=U.a.Sider,Oe=U.a.Content,je=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).onCollapse=function(e){console.log(e),a.setState({collapsed:e})},a.showMenu=function(e){var t=!0,n=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(t=(s=l.next()).done);t=!0){var o=s.value;if(a.props.user.authorizedTasks.indexOf(o)>-1)return!0}}catch(i){n=!0,r=i}finally{try{t||null==l.return||l.return()}finally{if(n)throw r}}},a.state={loggedInUser:null,iconLoading:!1,collapsed:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t,a,n,s;return this.showMenu(["create-user"])&&(e=r.a.createElement(b.a,{path:"/profile/authoring/create-user",component:Ee}),t=r.a.createElement(x.b.Item,{key:"create-user"},r.a.createElement(y.a,{to:"/profile/authoring/create-user"},r.a.createElement(R.a,{type:"user-add"}),r.a.createElement("span",{style:{fontWeight:"normal"}},"Create User")))),this.showMenu(["manage-users"])&&(a=r.a.createElement(b.a,{path:"/profile/authoring/manage-users",component:me}),n=r.a.createElement(x.b.Item,{key:"manage-users"},r.a.createElement(y.a,{to:"/profile/authoring/manage-users"},r.a.createElement(R.a,{type:"team"}),r.a.createElement("span",{style:{fontWeight:"normal"}},"Manage Users")))),this.showMenu(["activate-user"])&&(s=r.a.createElement(b.a,{path:"/profile/authoring/activate-user/:id",component:we})),r.a.createElement(X,this.props,r.a.createElement(U.a,null,r.a.createElement(Se,{width:200,collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,style:{background:"#fff",textAlign:"left"}},r.a.createElement(x.b,{mode:"inline",theme:"light",style:{background:"#fff",borderRight:0}},r.a.createElement(x.b.Item,{key:"dashboard"},r.a.createElement(y.a,{to:"/profile/dashboard"},r.a.createElement(R.a,{type:"home"}),r.a.createElement("span",{style:{fontWeight:"normal"}},"Dashboard"))),t,n)),r.a.createElement(U.a,{style:{borderLeft:"1px solid #e9e9e9",height:"calc(100vh- 64px)",backgroundColor:"white",paddingLeft:"5px, 5px, 0px,0px"}},r.a.createElement(Oe,{style:{backgroundColor:"white"}},r.a.createElement(N.a,null,r.a.createElement(A.a,{span:24},r.a.createElement(v.a,null,r.a.createElement(b.a,{path:"/profile/dashboard",component:ne}),e,s,a,r.a.createElement(b.a,{component:ae}))))))))}}]),t}(n.Component);var ke=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(je),Ue=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={loggedInUser:null,iconLoading:!1,collapsed:!1},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(X,this.props,r.a.createElement(ke,this.props))}}]),t}(n.Component);var Ce=Object(i.b)(function(e){return{user:e.loggedInUser}},null)(Ue),Le="V3",xe=U.a.Header,Ie=U.a.Content,Pe=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={access_token:"",iconLoading:!1,showValidationErrorsView:!1,subErrors:null},a}return Object(E.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.defaults.timeout=3e4,k.a.interceptors.request.use(function(t){var a=localStorage.getItem("AuthToken");return a&&(t.headers.common.Authorization="Bearer "+a),e.setState({iconLoading:!1}),t},function(e){return Promise.reject(e)}),k.a.interceptors.response.use(function(t){return e.setState({iconLoading:!1}),console.log("response:"+t),t},function(t){try{if(e.setState({iconLoading:!1}),t.response){console.log("Error response:",t.response);var a=t.response.status,n="";if(n=t.response.data.apierror&&t.response.data.apierror.message?t.response.data.apierror.message:t.response.data.error_description?t.response.data.error_description:"",401===a)C.a.error("Authentication required, Please login to continue.",5),localStorage.removeItem("AuthToken"),localStorage.removeItem("LoggedInUser"),e.props.logoutSuccess(),e.props.history.replace("/login");else if(403===a)C.a.error("Access denied, If you think you should have access to this resource, please contact support.",5);else if(404===a)C.a.error("Resource not found, "+n,5);else if(400===a){var r="";t.response.data.apierror&&t.response.data.apierror.subErrors?(r=t.response.data.apierror.subErrors,e.setState({subErrors:r}),e.setState({showValidationErrorsView:!0})):C.a.error("Invalid request, "+n,5)}else 500===a?C.a.error("Something went wrong, please try again later! If the problem persists, please contact support.",5):C.a.error("Something went wrong, please try again later! If the problem persists, kindly contact support.",5)}else t.request?C.a.error("Application server is not accessible, please try again!",5):C.a.error("Request processing failed, Invalid request.",5);return Promise.reject(t)}catch(t){return console.log(t),C.a.error("Something went wrong! If the problem persists, kindly contact support.",5),Promise.reject(t)}})}},{key:"render",value:function(){var e,t,a,n,s=this;if(e=this.state.showValidationErrorsView?r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:24},r.a.createElement(L.a,{title:"Validation Errors",bodyStyle:{width:1200},style:{top:150,display:"flex",marginLeft:100},visible:this.state.showValidationErrorsView,onCancel:function(){s.setState({showValidationErrorsView:!1})},footer:[]},r.a.createElement(N.a,{type:"flex",justify:"center",align:"middle"},r.a.createElement(A.a,{span:24},r.a.createElement("ul",null,this.state.subErrors.map(function(e,t){return r.a.createElement("li",{key:t},e.field," : ",e.message)}))))))):null,this.props.user){var l=r.a.createElement("div",null,r.a.createElement("span",null,"User: "),r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.user.id),r.a.createElement("br",null),r.a.createElement("span",null,"Role: "),r.a.createElement("span",{style:{fontWeight:"bold"}},this.props.user.roles.replace("ROLE_","")),r.a.createElement("br",null),r.a.createElement(y.a,{to:"/login",onClick:function(){localStorage.removeItem("AuthToken"),localStorage.removeItem("LoggedInUser"),s.props.setLoginSuccessRedirectUrl("/profile/dashboard"),s.props.logoutSuccess()}},r.a.createElement("span",{style:{fontWeight:"bold"}},"Sign Out")));n=r.a.createElement(y.a,{to:"/profile/dashboard"},r.a.createElement("img",{src:"https://www.stacksimplify.com/e-books/spring-security-handbook/logo.png",alt:"stacksimplify logo",className:"logo"})),t=r.a.createElement(x.b.Item,{key:"username",style:{float:"right"}},r.a.createElement(I.a,{placement:"bottomLeft",content:l,trigger:"click"},r.a.createElement(P.a,{style:{backgroundColor:"#f56a00",verticalAlign:"middle"},size:"large"},this.props.user.id)))}else n=r.a.createElement(y.a,{to:"/"},r.a.createElement("img",{src:"https://www.stacksimplify.com/e-books/spring-security-handbook/logo.png",alt:"stacksimplify logo",className:"logo"})),a=r.a.createElement(x.b.Item,{key:"login",style:{float:"right"}},r.a.createElement(y.a,{to:"/login"},r.a.createElement(R.a,{type:"login"}),r.a.createElement("span",{style:{fontWeight:"bold"}},"Sign In")));return r.a.createElement(U.a,{style:{height:"100vh"}},r.a.createElement(xe,{className:"App-header"},r.a.createElement(N.a,null,r.a.createElement(A.a,{span:24},n,r.a.createElement(x.b,{theme:"light",mode:"horizontal"},r.a.createElement(x.b.Item,{key:"Heading",style:{fontWeight:"bold"}},r.a.createElement("span",{style:{fontSize:20}}," User Management Application ",Le," "),r.a.createElement(z.a,{spinning:this.state.iconLoading})),t,a)))),r.a.createElement(Ie,{style:{height:"calc(100vh - 64px)"}},e,r.a.createElement(v.a,null,r.a.createElement(b.a,{path:"/login",component:K}),r.a.createElement(b.a,{path:"/profile",component:Ce}),r.a.createElement(b.a,{exact:!0,path:"/",component:K}),r.a.createElement(b.a,{component:ae}))))}}]),t}(n.Component);var Re=Object(i.b)(function(e){return{user:e.loggedInUser}},function(e){return Object(o.b)({logoutSuccess:S,setLoginSuccessRedirectUrl:O},e)})(Pe),ze=function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b.a,{path:"/",component:Re}))}}]),t}(n.Component),Ne=a(405),Ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ve(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Te=a(408),De=a(194),We=a.n(De),Me=Object(o.d)(d,Object(o.a)(c.a,m.a));l.a.render(r.a.createElement(i.a,{store:Me},r.a.createElement(Ne.a,{basename:"/usermanagement"},r.a.createElement(Te.a,{locale:We.a},r.a.createElement(ze,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ae?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ve(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Ve(e)})}}()}},[[197,1,2]]]);
//# sourceMappingURL=main.bafe7baa.chunk.js.map